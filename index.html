<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>FizzBuzz問題</title>
</head>
<body>
    
<h1>FizzBuzz問題</h1>
<section id='input'>
<form action='' name='form'>
<table>
    <tr>
        <td>FizzNum:</td>
        <td><input type='text' id='fizz' placeholder='整数値を入力してください'></td>
    </tr>
    <tr>
        <td>BuzzNum:</td>
        <td><input type='text' id='buzz' placeholder='整数値を入力してください'></td>
    </tr>
</table>
<button type='button' id='btn'>実行</button>
</form>
<p>【出力】</p>
</section>
<section id='output'>
</section>
<script>
//実行
const EleBtn = document.getElementById('btn');
EleBtn.addEventListener('click', (e) => {

    //タグの用意
    const EleOut = document.getElementById('output');
    const EleNums = document.createElement('dev'); 

    //初期化
    if(EleOut.hasChildNodes()) {
        while(EleOut.firstChild){
            EleOut.removeChild(EleOut.firstChild);
        }
    }

    //テキストフィールドのデータ入力
    const InputFizz = document.getElementById('fizz').value;
    const InputBuzz = document.getElementById('buzz').value;

    //空チェック
    if(!InputFizz || !InputBuzz){
        let EleErr = document.createElement('p');
        EleErr.textContent = '半角数字を入力してください';
        EleNums.appendChild(EleErr);
    }
    //文字列チェック
    else if(isNaN(InputFizz) || isNaN(InputBuzz)){
        let EleErr = document.createElement('p');
        EleErr.textContent = '半角数字で入力してください';
        EleNums.appendChild(EleErr);
    }
    //少数チェック
    else if(InputFizz % 1 !== 0 || InputBuzz % 1 !== 0){
        let EleErr = document.createElement('p');
        EleErr.textContent = '整数で入力してください';
        EleNums.appendChild(EleErr);
    }
    //エラーがない場合
    else{
        let AryOutData = [];
        let CntFizz = 1;
        let CntBuzz = 1;
        //Fizzの倍数が最大99までループ + 0だった場合はループなし
        while(InputFizz * CntFizz < 100 && InputFizz !== 0){
            AryOutData.push(['Fizz' ,InputFizz * CntFizz]);
            CntFizz++;
        }
        //Buzzの倍数が最大99までループ + 0だった場合はループなし
        while(InputBuzz * CntBuzz < 100 && InputBuzz !== 0){

            //FizzBuzz確認用変数
            let CntFizzBuzz = 0;
            let BolFizzBuzz = false;

            //FizzBuzz確認
            AryOutData.forEach(OutData => {
               if(OutData.indexOf(InputBuzz * CntBuzz) !== -1){
                    //FizzBuzzだった場合は置換
                    AryOutData[CntFizzBuzz].splice('Fizz',1,'FizzBuzz');
                    BolFizzBuzz = true;
                    return 0;
               }
               CntFizzBuzz++;                
            });

            //FizzBuzzでなければBuzzをインプット
            if(!BolFizzBuzz){
                AryOutData.push(['Buzz' ,InputBuzz * CntBuzz]);
            }
            CntBuzz++;
        }
        //配列を昇順にソート
        const ArySortOutData = AryOutData.sort((a,b) => a[1] - b[1]);

        //データ出力
        ArySortOutData.forEach(SortData => {
                let Output = document.createElement('p');
                Output.style.margin = 0;
                Output.textContent = SortData[0] + ' ' + SortData[1];
                EleNums.appendChild(Output);
        });
    }
    //まとめて出力
    EleOut.appendChild(EleNums);
});
</script>
</body>
</html>